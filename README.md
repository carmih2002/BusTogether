# BusTogether 🚌

מערכת צ'אט אנונימית וזמנית לנוסעי תחבורה ציבורית.

## תיאור המערכת

BusTogether מאפשרת תקשורת בזמן אמת בין נוסעים באותו אוטובוס ובאותה נסיעה, באמצעות סריקת QR קוד קבוע. המערכת מבוססת זמן - צ'אטים נפתחים ונסגרים אוטומטית לפי תוכנית שבועית שנקבעת מראש.

### תכונות עיקריות

- ✅ **אנונימיות מלאה** - ללא הרשמה, מספר טלפון או פרטים מזהים
- ⏰ **בקרת זמן אוטומטית** - פתיחה וסגירה לפי לוח זמנים
- 🔒 **מחיקת נתונים מלאה** - כל המידע נמחק בסיום הצ'אט
- 🚩 **מודרציה אוטומטית** - סינון תוכן ומערכת דיווחים
- 📱 **ממשק נוסעים** - פשוט, יפה ותומך בעברית RTL
- 💼 **דשבורד ניהול** - שליטה מלאה באוטובוסים, זמנים וניטור

## דרישות מערכת

- Node.js 16+ 
- npm או yarn

## התקנה

### 1. התקנת תלויות שרת

```bash
cd BusTogether
npm install
```

### 2. התקנת תלויות דשבורד ניהול

```bash
cd admin-dashboard
npm install
```

## הרצה

### הפעלת השרת

```bash
npm run dev
```

השרת יעלה על http://localhost:3000

### הפעלת דשבורד הניהול

בטרמינל נפרד:

```bash
npm run admin
```

הדשבורד יעלה על http://localhost:5173

## שימוש במערכת

### כניסה לדשבורד ניהול

1. גש ל-http://localhost:5173
2. הסיסמה ברירת המחדל: `admin123`
3. ניתן לשנות את הסיסמה במשתנה הסביבה `ADMIN_PASSWORD`

### יצירת אוטובוס

1. בלשונית "ניהול אוטובוסים" לחץ על "אוטובוס חדש"
2. הזן מזהה ייחודי (למשל: 343535)
3. הזן שם תיאורי (למשל: קו 51)
4. המערכת תייצר QR קוד אוטומטית

### הגדרת זמנים

1. עבור ללשונית "ניהול זמנים"
2. בחר אוטובוס
3. לחץ על "זמן חדש"
4. בחר ימים בשבוע
5. הגדר שעת התחלה וסיום
6. הזן שם לצ'אט

### ניטור צ'אטים פעילים

1. עבור ללשונית "צ'אטים פעילים"
2. צפה בכל הצ'אטים הפעילים בזמן אמת
3. לחץ על צ'אט לצפייה בפרטים
4. ניתן לסגור צ'אט ידנית במקרה צורך

### גישה לצ'אט (נוסעים)

1. סרוק את ה-QR קוד באוטובוס
2. אם הצ'אט פעיל - בחר שם משתמש
3. הצטרף לצ'אט ושלח הודעות
4. דווח על הודעות לא הולמות בלחיצה על 🚩

## מבנה הפרויקט

```
BusTogether/
├── server/                    # Backend
│   ├── index.js              # שרת ראשי
│   ├── config/               # הגדרות
│   ├── services/             # לוגיקה עסקית
│   ├── routes/               # API endpoints
│   ├── middleware/           # Middleware
│   └── utils/                # כלים עזר
├── admin-dashboard/          # דשבורד ניהול (React)
│   └── src/
│       ├── components/       # קומפוננטים
│       ├── services/         # API client
│       └── styles/           # CSS
├── public/                   # קבצים סטטיים
│   └── chat/                 # ממשק נוסעים
│       ├── index.html
│       ├── chat.css
│       └── chat.js
└── package.json
```

## טכנולוגיות

### Backend
- Node.js + Express
- Socket.IO (WebSocket)
- node-cron (תזמון)
- QRCode (יצירת QR)

### Frontend
- React + Vite (דשבורד)
- Vanilla JS (ממשק נוסעים)
- CSS עם Glassmorphism

### אחסון
- In-memory (ללא מסד נתונים)

## הגדרות סביבה

צור קובץ `.env` בתיקיית השורש:

```env
PORT=3000
ADMIN_PASSWORD=your-secure-password
SESSION_SECRET=your-secret-key
NODE_ENV=production
```

## בטיחות ומודרציה

### סינון אוטומטי
- רשימת מילים אסורות (עברית ואנגלית)
- זיהוי ספאם
- הגבלת קצב שליחה

### מערכת דיווחים
- כל הודעה ניתנת לדיווח
- 3 דיווחים = מחיקה אוטומטית
- 2 הפרות = הרחקה מהצ'אט

### פרטיות
- ללא שמירת IP
- ללא מעקב בין נסיעות
- מחיקה מלאה בסיום צ'אט

## פיתוח עתידי

- [ ] משחקים שיתופיים
- [ ] תגובות אימוג'י
- [ ] שיתוף תמונות (עם מודרציה)
- [ ] תמיכה בשפות נוספות
- [ ] מסד נתונים (PostgreSQL)
- [ ] Redis לסשנים מבוזרים

## רישיון

MIT

## תמיכה

לשאלות ובעיות, פנה למפתח.

---

**BusTogether** - הופך כל נסיעה לחוויה חברתית 🚌💬
